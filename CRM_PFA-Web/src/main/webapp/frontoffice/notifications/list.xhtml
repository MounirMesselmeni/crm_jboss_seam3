<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="./../../WEB-INF/template/clientTemplate.xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core">


    <ui:define name="body">
        <div class="mws-panel grid_8">
            <div class="mws-panel-header">
                <span class="mws-i-24 i-facebook-like">
                    Dérnières Notifications
                </span>
            </div>
            <div class="mws-panel-body"  >
                <h:form id="form1">
                    <p:messages id="messages" autoUpdate="true" globalOnly="true"/>
                    <br/>
                    <p:spacer height="20"/>

                    <h:panelGrid width="100%" columns="3">
                        <p:spacer height="20" width="10"/>

                        <p:dataTable id="datatable"  var="notification" value="#{notificationController.contactNotifications}"  paginator="true" rows="10"  
                                     paginatorPosition="bottom">  

                            <p:column  style="width:10%">
                                <center>
                                    <p:graphicImage value="/resources/images/constellation/icons/fugue/readed-mail.png"  width="24" height="24" rendered="#{notification.readed}"/>  
                                    <p:graphicImage value="/resources/images/constellation/icons/fugue/unreaded-mail.png"  width="24" height="24" rendered="#{not notification.readed}"/>  
                                </center>
                            </p:column> 
                            <p:column headerText="Contenu" style="width:50%">  
                                <h:outputText value="#{notification.content}" />  
                            </p:column>  
                            <p:column headerText="Type" style="width:10%">  
                                <h:outputText value="#{notification.type}" />  
                            </p:column>  
                            <p:column headerText="Consulter" style="width:10%">  
                                <h:commandLink value="consulter"  action="#{notificationController.consult(notification)}">
                                    <f:param name="id" value="#{notificationController.id}" />
                                </h:commandLink>  
                            </p:column>  
                        </p:dataTable>
                        <p:spacer height="20" width="10"/>
                    </h:panelGrid>
                </h:form>
            </div>
        </div>
    </ui:define>
</ui:composition>
