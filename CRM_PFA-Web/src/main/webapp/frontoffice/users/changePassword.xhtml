<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                template="./../../WEB-INF/template/clientTemplate.xhtml">
    <ui:define name="body">
        <div class="mws-panel grid_8">
            <div class="mws-panel-header">
                <span class="mws-i-24 i-lock-locked">
                    Changer vote mot de passe
                </span>
            </div>
            <div class="mws-panel-body" >
                    <p:spacer height="20"/>
                <p:messages globalOnly="true"/>
                <h:panelGrid columns="3">
                    <p:spacer width="10"/>
                    <h:form id="changepassword">
                        <h:panelGrid columns="3">
                            <h:outputLabel for="oldPassword" value="Ancien mot de passe" styleClass="formLabel"/>
                            <p:password id="oldPassword" feedback="false" value="#{changePasswordAction.oldPassword}" required="true" requiredMessage="Value required"/>
                            <p:message for="oldPassword"/>

                            <h:outputLabel for="newPassword" value="Nouveau mot de passe" styleClass="formLabel"/>
                            <p:password id="newPassword" value="#{changePasswordAction.newPassword}" required="true" requiredMessage="Value required"/>
                            <p:message for="newPassword"/>

                            <h:outputLabel for="confirmPassword" value="Confirmer le mot de passe" styleClass="formLabel"/>
                            <p:password id="confirmPassword" value="#{changePasswordAction.confirmPassword}" required="true" requiredMessage="Value required"/>
                            <p:message for="confirmPassword"/>
                        </h:panelGrid>
                        <p:spacer height="30"/>
                        <table width="100%" border="0">
                            <tr>
                                <td>
                                    <p:commandButton id="retour" value="Annuler" 
                                                     ajax="false" action="myProfile" immediate="true">
                                    </p:commandButton>
                                </td>
                                <td align="right">
                                    <p:commandButton id="val" ajax="false"
                                                     value="Mettre Ã  jour" action="#{changePasswordAction.changePassword()}"/>
                                </td>
                            </tr>  
                        </table>
                    </h:form>
                    <p:spacer width="10"/>
                </h:panelGrid>
            </div>
        </div>
    </ui:define>
</ui:composition>
